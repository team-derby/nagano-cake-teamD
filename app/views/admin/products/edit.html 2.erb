<div class="row">
  <h2 class="head">商品 編集画面</h2>
  <!-- フラッシュメッセージ -->
  <p id="notice"><%= notice %></p>
</div>
<div class="row">
  <%= form_for @product, url: admin_product_path, method: :patch do |f| %>
    <!-- エラーメッセージ -->
    <% if @product.errors.any? %>
      <div id="error_explanation">
        <h3><%= pluralize(@product.errors.count, "error") %> prohibited this product from being saved:</h3>

        <ul>
        <% @product.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
        </ul>
      </div>
    <% end %>
    <!-- 編集フォーム -->
    <div class="col-xs-4">
      <div class="form-group has-icon">
        <div class="product-new-image">
          <%= attachment_image_tag @product, :image, :fill, 300, 300, fallback: "no_image.jpg"%>
        </div>
        <label class="action">
          <p>画像選択</p>
          <%= f.attachment_field :image, style: "display:none;", placeholder: "商品画像" %>
        </label>
      </div>
    </div>
    <div class="col-xs-4 col-xs-offset-1">
      <div class="field row">
        <%= f.label :商品名　　 %>
        <%= f.text_field :name %>
      </div>

      <div class="field row">
        <%= f.label :商品説明　 %>
        <%= f.text_area :explanation, size: "30x10" %>
      </div>

      <div class="field row">
        <%= f.label :ジャンル　 %>
        <%= f.collection_select :genre_id, Genre.all, :id, :name, {include_blank: "---"} %>
      </div>

      <div class="field row">
        <%= f.label :税抜価格　 %>
        <%= f.text_field :price %>円
      </div>

      <div class="field row">
        <%= f.label :販売ステータス　 %>
        <%= f.select :sales_status, Product.sales_statuses.keys.map {|k| [k, k]} %>
      </div>
    </div>

    <div class="col-xs-3">
      <div class="button">
        <%= f.submit "変更を保存", class: "btn btn-lg btn-primary" %>
      </div>
    </div>

  <% end %>
</div>